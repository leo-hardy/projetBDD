<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<title>Base de données livres</title>

<script type="text/javascript">


function AfficheCatalogue(f)
{
// Préparation de la structure XMLHttpRequest pour communiquer avec PHP
var xhr_object = null;
var S = "";
if (window.XMLHttpRequest) // Firefox
	{
		xhr_object = new XMLHttpRequest();
		// alert("OK");
	}
else if(window.ActiveXObject) // Internet Explorer
	{
	xhr_object = new ActiveXObject("Microsoft.XMLHTTP");
	}
else { // XMLHttpRequest non supporté par le navigateur
	alert("Votre navigateur ne supporte pas les objets XMLHTTPRequest...");
	return;
	}
// Préparation de l'appel avec la déclaration de la fonction qui de manière
// asynchrone rendra le résultat dans un temps indéterminé
xhr_object.open("POST", "Creerbase.php", true);

xhr_object.onreadystatechange = function() {
	if(xhr_object.readyState == 4)
	{
		// Cette instruction sera la dernière à s'exécuter dans ce code JS
		document.getElementById("AfficheCatalogueDiv").innerHTML =xhr_object.responseText;
	}
}

// Envoi de la requête PHP. A cet instant, le moment du retour est inconnu
xhr_object.setRequestHeader("Content-type","application/x-www-form-urlencoded");
var data = "";
xhr_object.send(data);
}



function Effacerbdd(f)
{
// Préparation de la structure XMLHttpRequest pour communiquer avec PHP
var xhr_object = null;
var S = "";
if (window.XMLHttpRequest) // Firefox
	{
		xhr_object = new XMLHttpRequest();
		// alert("OK");
	}
else if(window.ActiveXObject) // Internet Explorer
	{
	xhr_object = new ActiveXObject("Microsoft.XMLHTTP");
	}
else { // XMLHttpRequest non supporté par le navigateur
	alert("Votre navigateur ne supporte pas les objets XMLHTTPRequest...");
	return;
	}
// Préparation de l'appel avec la déclaration de la fonction qui de manière
// asynchrone rendra le résultat dans un temps indéterminé
xhr_object.open("POST", "Effacerbase.php", true);

xhr_object.onreadystatechange = function() {
	if(xhr_object.readyState == 4)
	{
		// Cette instruction sera la dernière à s'exécuter dans ce code JS
		document.getElementById("AfficheCatalogueDiv").innerHTML =xhr_object.responseText;
	}
}


// Envoi de la requête PHP. A cet instant, le moment du retour est inconnu
xhr_object.setRequestHeader("Content-type","application/x-www-form-urlencoded");
var data = "";
xhr_object.send(data);

}



</script>
</head>


<body>
<h1>Base de données &quot;Livres&quot;</h1>

<h2>
    Créer la base
</h2>
<form id="form1" name="form1" method="post" action="">

<input type="button" name="BoutonCreer" id="BoutonCreer" value="Livres"
onClick="AfficheCatalogue(this.form)"/>
</form>

<p> </p>

<h2>Ajout d'enregistrements dans la base</h2>
<form id="form2" name="form2" method="post" action="ajout_entree.php">
	<label>Table dans laquelle on veut ajouter un enregistrement</label>
    <select name="tableChoisie">
        <option value="livre">Livre</option>
        <option value="ecrit_par">Ecrit_par</option>
        <option value="edite_par">Edité_par</option>
        <option value="editeur">Editeur</option>
        <option value="auteur">Auteur</option>
    </select>
    <br/>
    <input type="submit">
</form>

<p>&nbsp;</p>

<h2>Modification d'enregistrements dans la base</h2>
<form id="form4" name="form4" method="post" action="modif_entree.php">
    <label>Table dans laquelle on veut modifier un enregistrement</label>
    <select name="tableChoisie">
        <option value="livre">Livre</option>
        <option value="ecrit_par">Ecrit_par</option>
        <option value="edite_par">Edité_par</option>
        <option value="editeur">Editeur</option>
        <option value="auteur">Auteur</option>
    </select>
    <br/>
    <input type="submit">
</form>

<p></p>




<h2>Interroger la base de données</h2>
<form id="form5" name="form5" method="post" action="requetes.php">
    <label>Quelle est la requête souhaitée ?</label>
    <select name="requete">
        <option value="r1">La liste de tous les livres</option>
        <option value="r2">La liste de tous les auteurs</option>
        <option value="r3">La liste de tous les éditeurs</option>
        <option value="r4">Le titre et le nom de l’éditeur de tous les livres</option>
		<option value="r5">Le titre, l’auteur et l’éditeur de tous les livres</option>
		<option value="r6">Le titre des livres dont l’auteur est "Isaac Asimov"</option>
		<option value="r7">Le nom des auteurs (sans doublons) publiés par l’éditeur "J’ai Lu"</option>
		<option value="r8">Le nombre de livres écrits par "Amélie Nothomb"</option>
		<option value="r9">Le nombre de livres publiés par editeur</option>
		<option value="r10">Les livres de science-fiction n’ayant pas été écrit par "Asimov Isaac"</option>
		<option value="r11">Les auteurs publiés par les mêmes éditeurs</option>
		<option value="r12">Les nouvelles de science-fiction écrites par "Asimov Isaac" et non éditées
			par "Gallimard"</option>
		<option value="r13">Les livres écrits par des auteurs décédés</option>
		<option value="r14">Les auteurs ayant écrit des livres de natures différentes</option>
		<option value="r15">Les auteurs ayant écrit au moins deux livres</option>
		<option value="r16">question supplémentaire 1</option>
		<option value="r17">question supplémentaire 2</option>
		<option value="r18">question supplémentaire 3</option>
		<option value="r19">question supplémentaire 4</option>
    </select>
    <br/>
    <input type="submit">
</form>






<p>&nbsp;</p>
<h2>
    Effacer la base
</h2>
<form id="form3" name="form3" method="post" action="">
    <input type="button" name="BoutonEff" id="BoutonEff" value="Effacer"
           onClick="Effacerbdd(this.form)"/>
</form>

<p>&nbsp;</p>
<div id="AfficheCatalogueDiv"></div>
<p>&nbsp;</p>
<div id="AcheterOutilsDiv"></div>
</body>
</html>